<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Music & Video Recorder</title>
  <!-- Google Fonts for improved typography -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Poppins:wght@600&display=swap" rel="stylesheet">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-p6VJb0ovr0zEOIqoV8I9z1ZlkrGc4HeWH4JqYblSb9nBpXlBFAkFsGqK+6jhkU31OcdN68e9KZndkZgDew4bMQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="style.css">

</head>
<body>
  <h1>Listen, Think, and Move</h1>
  
  <!-- <p>
    You are now volunteering to participate in the collection of a <b>multimodal dataset
    which matches music with facial expressions and hand gestures.</b> 
  </p> -->
  <p>  
    We want you to listen to given songs, think of relevant facial expressions and hand gestures, record yourself, and <b>upload</b>.
    While listening to the music, you have to make face expressions according to the mood and rhythm of the music. You can also:
    <ul>
      <li>pretend you are conducting an orchestra with your face,</li>
      <li>pretend you are playing the piano/drum/any other instruments in the music,</li>
    </ul> 
  </p>
  

  <!-- Username Display -->
  <div id="username-display">
    Username: <span id="username"></span>
  </div>

  <div class="video-grid">
    <video controls>
      <source src="/videos/sample 4.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls>
      <source src="/videos/sample 5.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls>
      <source src="/videos/sample 1.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <video controls>
      <source src="/videos/sample 3.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
  

  <!-- Button to draw a card/number -->
  <button id="draw-button"><i class="fas fa-dice"></i>Next Song</button>
  
  <!-- Card Display -->
  <div id="card-display"></div>
  
  <!-- Media Containers -->
  <div class="media-container">
    <!-- Audio player (hidden initially) -->
    <audio id="audio-player" controls></audio>
  </div>

  <div class="video-and-controls">
    <!-- Video Container -->
    <div class="media-container">
      <video id="local-video" autoplay muted></video>
    </div>
    
    <!-- Controls Container -->
    <div class="controls-container">
      <!-- Button Grid with 3 Buttons -->
      <div class="button-grid">
        <button id="record-button" disabled>
          <i class="fas fa-circle"></i> Start Recording
        </button>
        <button id="stop-button" disabled>
          <i class="fas fa-stop"></i> Stop Recording
        </button>
        <button id="upload-button" disabled class="highlight-upload">
          <i class="fas fa-upload"></i> Upload Video
        </button>
      </div>
      <!-- Status Message (appears below the button grid) -->
      <div id="status-message">
        <span id="status-text">Uploading your video to Google Drive...</span>
        <div id="spinner" class="spinner"></div>
      </div>
    </div>
  </div>
  

  <!-- Media Release Modal -->
  <div id="media-release-modal" class="modal">
    <div class="modal-content">
      <span class="close-button" id="close-modal">&times;</span>
      <h2>Media Release Agreement</h2>
      <p>
        By agreeing to this media release, you consent to the collection and use of your video recordings, which include facial data, for the purpose of model training. Your data will be handled with the utmost confidentiality and will not be used for commercial purposes. You have the right to withdraw your consent at any time.
      </p>
      <div class="modal-buttons">
        <button id="agree-button"><i class="fas fa-check-circle"></i> Agree</button>
        <button id="decline-button"><i class="fas fa-times-circle"></i> Decline</button>
      </div>
    </div>
  </div>
  
  <!-- Link to your script -->
  <script src="script.js"></script>
</body>
</html>
